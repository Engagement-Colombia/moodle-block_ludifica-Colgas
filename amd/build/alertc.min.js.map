{"version":3,"file":"alertc.min.js","sources":["../src/alertc.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Alerts control.\n *\n * @module    block/ludifica\n * @copyright 2021 David Herney @ BambuCo\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'],\nfunction($) {\n\n    var TIME_AUTOCLOSE = 1500;\n    var CONTAINER_SELECTOR = 'body';\n\n    var show = function(type, msg, autohide) {\n        var $control = $('<div class=\"alertc-control\"></div>');\n        var $alert = $('<div class=\"alert\"></div>');\n        var cssclass = '';\n\n        $control.append($alert);\n\n        switch (type) {\n            case 'error':\n                cssclass = 'alert-danger';\n                break;\n            case 'success':\n                cssclass = 'alert-success';\n                break;\n            case 'warning':\n                cssclass = 'alert-warning';\n                break;\n            default:\n                cssclass = 'alert-secondary';\n        }\n\n        $alert.addClass(cssclass);\n        $alert.addClass('alert-dismissible');\n\n        var $close = $('<button type=\"button\" class=\"close\">&times;</button>');\n        $close.on('click', function() {\n            $control.remove();\n        });\n        $alert.append($close);\n\n        if (autohide || typeof autohide == 'undefined') {\n            setTimeout(function() {\n                $control.hide(600, function() {\n                    $control.remove();\n                });\n            }, TIME_AUTOCLOSE);\n        }\n\n        $alert.append(msg);\n        $(CONTAINER_SELECTOR).append($control);\n    };\n\n    return {\n        \"info\": function(msg, autohide) {\n            show('info', msg, autohide);\n        },\n        \"error\": function(msg) {\n            show('error', msg, false);\n        },\n        \"success\": function(msg, autohide) {\n            show('success', msg, autohide);\n        },\n        \"warning\": function(msg, autohide) {\n            show('warning', msg, autohide);\n        },\n        \"setclosetime\": function(secs) {\n            TIME_AUTOCLOSE = secs;\n        }\n    };\n});\n"],"names":["define","$","TIME_AUTOCLOSE","show","type","msg","autohide","$control","$alert","cssclass","append","addClass","$close","on","remove","setTimeout","hide","secs"],"mappings":";;;;;;;AAuBAA,+BAAO,CAAC,WACR,SAASC,OAEDC,eAAiB,KAGjBC,KAAO,SAASC,KAAMC,IAAKC,cACvBC,SAAWN,EAAE,sCACbO,OAASP,EAAE,6BACXQ,SAAW,UAEfF,SAASG,OAAOF,QAERJ,UACC,QACDK,SAAW,yBAEV,UACDA,SAAW,0BAEV,UACDA,SAAW,8BAGXA,SAAW,kBAGnBD,OAAOG,SAASF,UAChBD,OAAOG,SAAS,yBAEZC,OAASX,EAAE,wDACfW,OAAOC,GAAG,SAAS,WACfN,SAASO,YAEbN,OAAOE,OAAOE,SAEVN,eAA+B,IAAZA,WACnBS,YAAW,WACPR,SAASS,KAAK,KAAK,WACfT,SAASO,cAEdZ,gBAGPM,OAAOE,OAAOL,KACdJ,EAzCqB,QAyCCS,OAAOH,iBAG1B,MACK,SAASF,IAAKC,UAClBH,KAAK,OAAQE,IAAKC,iBAEb,SAASD,KACdF,KAAK,QAASE,KAAK,YAEZ,SAASA,IAAKC,UACrBH,KAAK,UAAWE,IAAKC,mBAEd,SAASD,IAAKC,UACrBH,KAAK,UAAWE,IAAKC,wBAET,SAASW,MACrBf,eAAiBe"}