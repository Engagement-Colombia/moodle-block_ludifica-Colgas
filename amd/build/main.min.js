define(["jquery","core/str","core/modal_factory","block_ludifica/alertc","core/log"],function(n,t,i,e,a){var o=[],s=(o.push({key:"badgelinkcopiedtoclipboard",component:"block_ludifica"}),o.push({key:"showranking",component:"block_ludifica"}),o.push({key:"hideranking",component:"block_ludifica"}),[]);0<o.length&&(o.forEach(t=>{s[t.key]=t.key}),t.get_strings(o).then(function(a){var i=0;return o.forEach(t=>{s[t.key]=a[i],i++}),!0}).fail(function(t){a.debug("Error loading strings"),a.debug(t)}));return{init:function(){n(".block_ludifica-modal").each(function(){var t=n(this),a={title:t.attr("title")||"",body:t.html()};0<t.find("footer").length&&(a.footer=t.find("footer")),t.data("type")&&(a.type=t.data("type")),i.create(a,n('.block_ludifica-modalcontroller[data-ref-id="'+t.attr("id")+'"]'))}),n(".block_ludifica-content").each(function(){var t=n(this),i=(t.find(".block_ludifica-tabs").each(function(){var a=n(this),i=[];a.find("[data-ref]").each(function(){var t=n(this);i.push(t),t.on("click",function(){i.forEach(t=>{n(t.data("ref")).removeClass("active showranking")}),a.find(".active[data-ref]").removeClass("active"),t.addClass("active"),n(t.data("ref")).addClass("active")})}),t.find("[data-ludifica-tab]").each(function(){var t=n(this);t.on("click",function(){var a=".tab-"+t.data("ludifica-tab");i.forEach(t=>{0<=t.data("ref").indexOf(a)&&t.trigger("click")})})})}),!1),e=(n(".showhelpsbutton").on("click",function(t){t.stopPropagation(),i?(n(".tab-dynamichelps").removeClass("showhelps"),n(this).removeClass("activebtn"),n(this).find(".pix-initial").show(),n(this).find(".pix-toggle").hide()):(n(".tab-dynamichelps").addClass("showhelps"),n(this).addClass("activebtn"),n(this).find(".pix-initial").hide(),n(this).find(".pix-toggle").show()),i=!i}),n(document).on("click",function(t){var a=n(".tab-dynamichelps");a.is(t.target)||0!==a.has(t.target).length||(i&&(n(".showhelps").removeClass("showhelps"),n(".showhelpsbutton").removeClass("activebtn"),n(".showhelpsbutton").find(".pix-initial").show(),n(".showhelpsbutton").find(".pix-toggle").hide()),i=!1)}),!1);n(".showrankingbutton").on("click",function(t){t.stopPropagation(),e?(n(".tabranking").removeClass("showranking"),n(this).removeClass("activebtn"),n(this).text(s.showranking)):(n(".tab-topbysite").addClass("showranking"),n(this).addClass("activebtn"),n(this).text(s.hideranking)),e=!e}),n(document).on("click",function(t){var a=n(".tabranking");a.is(t.target)||0!==a.has(t.target).length||(e&&(n(".showranking").removeClass("showranking"),n(".showrankingbutton").removeClass("activebtn"),n(".showrankingbutton").text(s.showranking)),e=!1)}),n(".showlastmonth").on("click",function(){n(".tabranking").removeClass("showranking"),n(".tab-lastmonth").addClass("showranking")}),n(".showtopbysite").on("click",function(){n(".tabranking").removeClass("showranking"),n(".tab-topbysite").addClass("showranking")})}),n("body").on("updatefailed","[data-inplaceeditable]",function(t){var a=t.exception;t.preventDefault(),"nicknameexists"==a.errorcode&&(e.error(a.message),a.errorcode=null)}),n("[data-observe-resizes]").each(function(){if("ResizeObserver"in self){let t=new ResizeObserver(function(t){var a={XS:0,SM:384,MD:576,LG:768,XL:960};t.forEach(function(i){var e=i.target.dataset.breakpoints?JSON.parse(i.target.dataset.breakpoints):a;Object.keys(e).forEach(function(t){var a=e[t];i.contentRect.width>=a?i.target.classList.add(t):i.target.classList.remove(t)})})});t.observe(this)}})}}});
//# sourceMappingURL=main.min.js.map